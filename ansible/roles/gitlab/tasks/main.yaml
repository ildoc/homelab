---
# ansible/roles/gitlab/tasks/main.yaml

- name: Install docker
  ansible.builtin.include_tasks: "{{ tasks_dir }}/docker/install.yaml"

- name: Setup GitLab
  ansible.builtin.include_tasks: setup_gitlab.yaml

- name: Certbot setup
  ansible.builtin.include_tasks: certbot.yaml

- name: Nginx setup
  ansible.builtin.include_tasks: nginx.yaml

- name: Docker cleanup configuration
  ansible.builtin.include_tasks: docker_cleanup.yaml
  tags:
    - docker-cleanup
    - maintenance
